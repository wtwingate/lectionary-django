{% extends "lectionary/base.html" %}
{% block title %}Lectionary{% endblock %}
{% block content %}
    <h1 class="my-20 text-6xl font-semibold text-center">The Lectionary</h1>
    <form class="bg-neutral-100 shadow-lg rounded-lg px-16 py-8 mx-auto max-w-max flex flex-row gap-8 justify-center items-center" method="GET">
        <span class="flex gap-2 items-center">
            <label class="font-bold" for="start">Start</label>
            <input class="rounded-sm px-2 bg-neutral-50 text-neutral-950 border-solid border-2 border-neutral-950" type="date" id="start" name="start" />
        </span>
        <span class="flex gap-2 items-center">
            <label class="font-bold" for="end">End</label>
            <input class="rounded-sm px-2 bg-neutral-50 text-neutral-950 border-solid border-2 border-neutral-950" type="date" id="end" name="end" />
        </span>
        <button class="bg-neutral-600 hover:bg-neutral-700 text-neutral-50 font-bold shadow-sm px-8 py-2 rounded-md" type="submit">Search</button>
    </form>
    <section>
        {% for item in calendar %}
            {% if item.days %}
                <div>
                    <h2>{{ item.date }}</h2>
                    {% for day in item.days %}
                        <div>
                            <h3>
                                <a href="{{ day.get_absolute_url }}">{{ day.name }}
                                    {% if day.service %}{{ day.service }}{% endif %}
                                </a>
                            </h3>
                            <ul>
                                {% for lesson in day.lesson_set.all %}<li>{{ lesson.reference }}</li>{% endfor %}
                            </ul>
                        </div>
                    {% endfor %}
                </div>
            {% endif %}
        {% endfor %}
    </section>
{% endblock %}
