{% extends "lectionary/base.html" %}
{% block title %}Lectionary{% endblock %}
{% block content %}
    <h1 class="m-12 text-5xl text-center font-semibold text-red-800">The Lectionary</h1>
    <form class="max-w-fit my-8 mx-auto" method="GET">
	<div class="flex flex-row gap-8 mb-8">
		<div class="px-8 py-4 border-solid border-2 border-red-800">
			<label class="block italic text-red-800" for="start">Start date</label>
			<input type="date" id="start" name="start" />
		</div>
		<div class="px-8 py-4 border-solid border-2 border-red-800">
			<label class="block italic text-red-800" for="end">End date</label>
			<input type="date" id="end" name="end" />
		</div>
	</div>
        <button class="max-w-fit mx-auto block px-8 py-2 text-neutral-100 bg-red-800" type="submit">Search</button>
    </form>
    {% for item in lectionary %}
        {% if item.day.service is not None %}
            <h2 class="text-2xl mt-4 mb-2 text-red-800">
                <a href="{{ item.day.get_absolute_url }}">{{ item.day.name }}: {{ item.day.service }}</a>
            </h2>
        {% else %}
            <h2 class="text-2xl mt-4 mb-2 text-red-800">
                <a href="{{ item.day.get_absolute_url }}">{{ item.day.name }}</a>
            </h2>
        {% endif %}
        <p class="italic mb-1">{{ item.date }}</p>
        <ul>
            {% for lesson in item.day.lesson_set.all %}
                <li class="list-disc list-inside">{{ lesson.reference }}</li>
            {% endfor %}
        </ul>
    {% endfor %}
{% endblock %}
